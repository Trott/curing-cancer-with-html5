<!DOCTYPE html>
<html>
<head>
  <title>Curing Cancer with HTML5</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <style type="text/css">
  @import url(http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
  @import url(http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
  @import url(http://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

  body { font-family: 'Droid Serif'; }
  h1, h2, h3 {
    font-family: 'Yanone Kaffeesatz';
    font-weight: normal;
  }
  img { width: 100%; }
  .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
  </style>
</head>
<body>
  <textarea id="source">

class: center, middle

# Curing Cancer with HTML5

Rich Trott  
HTML5DevConf  
October 2014  
San Francisco  

---

class: center, middle

# Spoiler alert!

*We're not actually going to cure cancer with HTML5...*

???

We're not really curing cancer.

But we are helping *other* people do important work in oncology, public health, law, sociology. 

We're also helping the general public find previously-hidden important information.

---

class: center, middle

# OMG

*False advertising!*

???

But yeah, we're not directly curing cancer here. "omg! false advertising!""

---

class: center, middle

# Speaking of questionable advertising....

<video controls=1 width=640 height=480 src="video/camel.mp4"></video>

???

Plan b: https://www.youtube.com/watch?v=hxUZI0vE0FM

OK, so we can chuckle at that. Let's fast foward now to 1983...

---

class: center, middle

![Letter from Sylvester Stallone agreeing to smoke in his movies in exchange for $500,000.](img/tmq36b00.jpg)

???

Shameful. Absolutely shameful. I mean, every person in this room knows that it ought
to be "no *fewer* than five feature films" and not "no *less* than 5", right?

By the way, $500,000 in 1983 adjusted for inflation is $1,196,501.00 in 2014. To
put that in perspective, that's enough to buy 18,408 HTML5 Dev Conf early bird registrations.

Fast forward again to 2002. 

---

class: center, middle

# "Shocked and horrified!"

*The Slow Poisoners*

???

I was in a band called The Slow Poisoners. With *that* name, 
we wanted tobacco industry sponsorship. So we wrote to B&amp;W telling them that we were
(and I quote) "shocked and horrified" that they paid Stallone a half million 
dollars to smoke in movies...because we would be happy to smoke their products on 
stage for much less money than that.

---

class: center, middle

# "Extremely tempting!"

*Brown &amp; Williamson*

???

One of the B&amp;W lawyers must have had a good sense of humor, because he wrote us
back to tell us that our offer was (and, again, I quote) "extremely tempting". 
However, he went on to say, that sort of promotion would put them in violation of something 
called The Master Settlement. So, they had to turn us down.

---

class: center, middle

# Dude, where's your presentation?

???

What does any of this have to do with the web?

---

class: center, middle

# Tobacco Master Settlement Agreement

Look it up on Wikipedia if you want details.

???

Well, that Master Settlement alluded to by the B&amp;W lawyer had a lot of effects.
But the one we care about here is this...

---

class: center, middle


![Screenshot of http://legacy.library.ucsf.edu](img/legacy_home.png)

???

The Master Settlement ultimately resulted in this site, run by my employer, the
UC San Francisco Library. It contains millions and millions--literally!--of internal
corporate documents from the tobacco industry, searchable by anyone! The "Which cigarette do
you smoke, doctor?" commercial and the letter from Sylvester Stallone are both examples of 
documents that are on the site. And we're adding new documents all the time as they become available.

The site was launched in 2002. Unfortunately, while the content is amazing and hugely 
valuable, the site itself had not kept up with the times.

---

class: center, middle

# Lucene 2

SRSLY? Not Solr?

???

Let's start with the backend. The documents are indexed using Lucene 2. The current version is 4.9.0.

As you might imagine, this means we're missing out on a lot of baked-in features for searching that
users have come to expect.

---

class: center, middle

# No incremental indexing.

Add one document? Gotta reindex 'em all.

???

We do not have incremental indexing. 

So if we need to change one piece of metadata on one document, all of the 84 million pages of 14 million documents need to be reindexed.

---

class: center, middle

# Monolithic Tomcat app

Want to change a CSS property? Hope you know Java!

???

Everything is packaged into a WAR file. Middleware and backend, sure. But the frontend too. All in one
big ol' WAR file.

So if you want to change the CSS so some text that is currently beige is a slightly darker tan instead, 
you have to package up a new WAR file.

---

class: center, middle

![Screenshot of http://legacy.library.ucsf.edu](img/legacy_home.png)

???

On the front end, it's not immediately obvious that the main thing you do with the site is search for documents. There's a lot of stuff there, none of which is as important as the search box.

---

class: center, middle

![Screenshot of top of http://legacy.library.ucsf.edu/action/search/basic?fd=0&amp;q=curing+cancer](img/legacy_results_top.png)

???

The form on the search results page is totally overwhelming.

Don't miss all those tabs!

Be sure you know whether you want Advanced Search or Expert Search! Because, of course, they're different!

---

class: center, middle

![Screenshot of middle of http://legacy.library.ucsf.edu/action/search/basic?fd=0&amp;q=curing+cancer](img/legacy_results_scroll.png)

???

And the results on the results page are also utterly overwhelming, and the contents non-obvious and confusing.

Date 00000000!

Bates! Whatever that is, it is useful! I guess.

Fresh view page-by-page...or this fly link with a bookmark icon. How do you choose between fresh and fly?

---

class: center, middle

# Insert slide(s) about our process

???

https://blogs.library.ucsf.edu/ckm/2014/02/19/redesigning-the-legacy-tobacco-documents-library-site-part-1-user-research/

https://wiki.library.ucsf.edu/display/ckm/Design+Docs

Check out the left sidebar on the scoped search pdf in that last link. Hot. Use it.

---

class: center, middle

# Things I wish we had done&hellip;

&hellip;TDD, mobile-first, decoupling from middleware&hellip;

---

class: center, middle

# Thanks!!


# Headshot goes here, yo

Rich Trott  
@trott  
UC San Francisco  
Library

???

*Talk about terrible, inflexible Library interfaces (like III) and what we do about it*

*Talk about LTDL2 v. LTDL3?*

*In either event, it's bringing something HTML 4-ish into the modern world.*

  </textarea>
  <script src="js/remark.min.js">
  </script>
  <script type="text/javascript">
  var slideshow = remark.create();
  </script>
</body>
</html>